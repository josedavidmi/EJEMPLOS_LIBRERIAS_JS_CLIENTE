<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>AnimeVerse - Cat√°logo visual</title>
    
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    
    <!-- Estilos -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }

        h1 span {
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            color: #444;
            margin: 30px 0 20px;
            font-size: 1.8rem;
        }

        /* Buscador */
        .buscador-container {
            margin: 30px 0;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        #buscador {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 50px;
            font-size: 16px;
            transition: all 0.3s;
        }

        #buscador:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .resultados-info {
            color: #666;
            font-size: 14px;
        }

        /* Swiper */
        .swiper {
            width: 100%;
            height: 350px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .swiper-slide {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-radius: 15px;
            padding: 30px;
        }

        .swiper-slide h3 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .swiper-slide p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Grid de animes */
        .animes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        /* Tarjetas */
        .card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid #f0f0f0;
            opacity: 0;
            transform: translateY(30px);
        }

        .card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 30px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }

        .card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .card h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .card p {
            color: #666;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .card .generos {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .tag {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .no-resultados {
            grid-column: 1 / -1;
            text-align: center;
            padding: 50px;
            color: #666;
            font-size: 1.2rem;
        }

        .resultados-busqueda {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ú® <span>AnimeVerse</span></h1>
        <p>Tu cat√°logo de anime favorito</p>

        <!-- 1. SWIPER - Carrusel de destacados -->
        <h2>üåü Destacados de la temporada</h2>
        <div class="swiper mySwiper">
            <div class="swiper-wrapper" id="carrusel-destacados"></div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>

        <!-- 2. FUSE.JS - Buscador inteligente -->
        <h2>üîç Buscar animes</h2>
        <div class="buscador-container">
            <input type="text" id="buscador" placeholder="Ej: One Piece, Naruto, Ataque a los Titanes... (tolera errores)">
            <span class="resultados-info" id="resultados-count"></span>
        </div>

        <!-- 3. ANIME.JS - Grid de animes con animaciones -->
        <h2>üìö Cat√°logo completo</h2>
        <div id="resultados-container"></div>
        <div class="animes-grid" id="animes-grid"></div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <script>
        // ============ DATOS DE ANIMES ============
        const animes = [
            {
                id: 1,
                titulo: "One Piece",
                generos: ["Aventura", "Acci√≥n", "Comedia", "Shonen"],
                personajes: ["Luffy", "Zoro", "Nami", "Sanji"],
                episodios: 1000,
                temporadas: 20,
                imagen: "üè¥‚Äç‚ò†Ô∏è",
                descripcion: "El rey de los piratas"
            },
            {
                id: 2,
                titulo: "Naruto",
                generos: ["Acci√≥n", "Aventura", "Shonen", "Ninjas"],
                personajes: ["Naruto", "Sasuke", "Sakura", "Kakashi"],
                episodios: 720,
                temporadas: 9,
                imagen: "üçú",
                descripcion: "El ninja m√°s famoso"
            },
            {
                id: 3,
                titulo: "Attack on Titan",
                generos: ["Acci√≥n", "Drama", "Fantas√≠a oscura", "Misterio"],
                personajes: ["Eren", "Mikasa", "Armin", "Levi"],
                episodios: 87,
                temporadas: 4,
                imagen: "‚öîÔ∏è",
                descripcion: "La humanidad contra los titanes"
            },
            {
                id: 4,
                titulo: "Dragon Ball Z",
                generos: ["Acci√≥n", "Artes marciales", "Shonen", "S√∫per poderes"],
                personajes: ["Goku", "Vegeta", "Gohan", "Piccolo"],
                episodios: 291,
                temporadas: 9,
                imagen: "üêâ",
                descripcion: "Las bolas de drag√≥n legendarias"
            },
            {
                id: 5,
                titulo: "Demon Slayer",
                generos: ["Acci√≥n", "Fantas√≠a", "Hist√≥rico", "Shonen"],
                personajes: ["Tanjiro", "Nezuko", "Zenitsu", "Inosuke"],
                episodios: 55,
                temporadas: 3,
                imagen: "‚öîÔ∏è",
                descripcion: "Cazadores de demonios"
            },
            {
                id: 6,
                titulo: "My Hero Academia",
                generos: ["Acci√≥n", "Superh√©roes", "Shonen", "Escuela"],
                personajes: ["Deku", "Bakugo", "Todoroki", "All Might"],
                episodios: 138,
                temporadas: 6,
                imagen: "üí•",
                descripcion: "El futuro de los h√©roes"
            }
        ];

        // Estado actual
        let animesFiltrados = [...animes];
        let swiper = null;

        // ============ 1. SWIPER - CARRUSEL ============
        function inicializarCarrusel() {
            const destacados = animes.slice(0, 4); // Primeros 4 animes como destacados
            
            const wrapper = document.querySelector('.swiper-wrapper');
            wrapper.innerHTML = destacados.map(anime => `
                <div class="swiper-slide">
                    <div style="font-size: 5rem; margin-bottom: 20px;">${anime.imagen}</div>
                    <h3>${anime.titulo}</h3>
                    <p>${anime.descripcion}</p>
                    <div style="margin-top: 15px;">
                        ${anime.generos.slice(0, 3).map(g => `<span class="tag" style="background: rgba(255,255,255,0.2); color: white; margin: 0 3px;">${g}</span>`).join('')}
                    </div>
                </div>
            `).join('');

            swiper = new Swiper(".mySwiper", {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                pagination: { el: ".swiper-pagination", clickable: true },
                navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
                autoplay: { delay: 3000, disableOnInteraction: false }
            });
        }

        // ============ 2. FUSE.JS - B√öSQUEDA INTELIGENTE ============
        const fuseOptions = {
            keys: [
                { name: "titulo", weight: 0.7 },
                { name: "generos", weight: 0.2 },
                { name: "personajes", weight: 0.1 }
            ],
            threshold: 0.4, // TOLERA ERRORES (0 = perfecto, 1 = cualquiera)
            includeScore: true,
            ignoreLocation: true,
            minMatchCharLength: 2
        };

        const fuse = new Fuse(animes, fuseOptions);

        function buscarAnimes(termino) {
            if (!termino || termino.length < 2) {
                animesFiltrados = [...animes];
                document.getElementById('resultados-count').innerHTML = '';
            } else {
                const resultados = fuse.search(termino);
                animesFiltrados = resultados.map(r => r.item);
                document.getElementById('resultados-count').innerHTML = 
                    `üìä ${resultados.length} resultados encontrados`;
            }
            
            renderizarGrid();
            animarCards();
        }

        // ============ 3. RENDERIZAR GRID ============
        function renderizarGrid() {
            const grid = document.getElementById('animes-grid');
            
            if (animesFiltrados.length === 0) {
                grid.innerHTML = '<div class="no-resultados">üòï No encontramos animes que coincidan con tu b√∫squeda</div>';
                return;
            }

            grid.innerHTML = animesFiltrados.map(anime => `
                <div class="card" data-id="${anime.id}">
                    <div style="font-size: 4rem; text-align: center; margin-bottom: 10px;">${anime.imagen}</div>
                    <h3>${anime.titulo}</h3>
                    <p>üì∫ ${anime.episodios} episodios ‚Ä¢ ${anime.temporadas} temp.</p>
                    <p>üë• ${anime.personajes.slice(0, 3).join(', ')}...</p>
                    <div class="generos">
                        ${anime.generos.map(g => `<span class="tag">${g}</span>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        // ============ 4. ANIME.JS - ANIMACIONES ============
        function animarCards() {
            setTimeout(() => {
                const cards = document.querySelectorAll('.card');
                
                anime({
                    targets: cards,
                    opacity: [0, 1],
                    translateY: [50, 0],
                    rotateX: [15, 0],
                    delay: anime.stagger(100, {start: 200}),
                    duration: 800,
                    easing: 'easeOutElastic(1, .5)'
                });

                // A√±adir clase visible
                cards.forEach(card => card.classList.add('visible'));
            }, 100);
        }

        // Animaciones hover con Anime.js
        function inicializarHoverEffects() {
            document.addEventListener('mouseover', (e) => {
                const card = e.target.closest('.card');
                if (card) {
                    anime({
                        targets: card,
                        scale: 1.02,
                        translateY: -10,
                        boxShadow: '0 20px 30px rgba(102, 126, 234, 0.3)',
                        duration: 300,
                        easing: 'easeOutQuad'
                    });
                }
            });

            document.addEventListener('mouseout', (e) => {
                const card = e.target.closest('.card');
                if (card) {
                    anime({
                        targets: card,
                        scale: 1,
                        translateY: 0,
                        boxShadow: '0 5px 20px rgba(0,0,0,0.1)',
                        duration: 300,
                        easing: 'easeOutQuad'
                    });
                }
            });
        }

        // ============ INICIALIZACI√ìN ============
        document.addEventListener('DOMContentLoaded', () => {
            inicializarCarrusel();
            renderizarGrid();
            inicializarHoverEffects();
            
            // Animaci√≥n inicial
            animarCards();

            // Event listener para b√∫squeda
            const inputBusqueda = document.getElementById('buscador');
            inputBusqueda.addEventListener('input', (e) => {
                buscarAnimes(e.target.value);
            });

            // Animaci√≥n de entrada del buscador
            anime({
                targets: '#buscador',
                scale: [0.95, 1],
                opacity: [0, 1],
                duration: 1000,
                easing: 'easeOutElastic'
            });
        });
    </script>
</body>
</html>