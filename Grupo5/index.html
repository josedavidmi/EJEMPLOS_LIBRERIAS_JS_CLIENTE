<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>ClÃ­nica Veterinaria - Patitas</title>
    
    <!-- FullCalendar -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>
    
    <!-- flatpickr -->
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css'>
    <script src='https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/l10n/es.js'></script>
    
    <!-- Tabulator -->
    <link href="https://unpkg.com/tabulator-tables@5.5.0/dist/css/tabulator.min.css" rel="stylesheet">
    <script src="https://unpkg.com/tabulator-tables@5.5.0/dist/js/tabulator.min.js"></script>
    
    <!-- FilePond -->
    <link href="https://unpkg.com/filepond@4.30.4/dist/filepond.css" rel="stylesheet">
    <script src="https://unpkg.com/filepond@4.30.4/dist/filepond.js"></script>
    
    <!-- Archivo de estilos -->
    <link rel="stylesheet" href="./estilos.css">
 
    <script src="./prueba.js" defer></script>

</head>
<body>
    <div class="container">
        <h1>ğŸ¾ ClÃ­nica Veterinaria Patitas</h1>

        <!-- Stats rÃ¡pidas -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon">ğŸ•</div>
                <div class="stat-info">
                    <h3 id="stats-pacientes">24</h3>
                    <p>Pacientes activos</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“…</div>
                <div class="stat-info">
                    <h3 id="stats-citas-hoy">8</h3>
                    <p>Citas para hoy</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ¥</div>
                <div class="stat-info">
                    <h3 id="stats-veterinarios">3</h3>
                    <p>Veterinarios</p>
                </div>
            </div>
        </div>

        <!-- Grid principal -->
        <div class="grid-2">
            <!-- FULLCALENDAR - Agenda de citas -->
            <div class="card">
                <h2>ğŸ“‹ Agenda de citas</h2>
                <div id="calendario"></div>
            </div>

            <!-- Formulario nueva cita + flatpickr -->
            <div class="card">
                <h2>â• Nueva cita</h2>
                
                <div class="form-group">
                    <label>Mascota</label>
                    <select id="cita-mascota">
                        <option value="1">ğŸ• Max - Golden Retriever</option>
                        <option value="2">ğŸˆ Luna - Gato Persa</option>
                        <option value="3">ğŸ• Toby - Bulldog FrancÃ©s</option>
                        <option value="4">ğŸˆ Simba - Gato ComÃºn</option>
                        <option value="5">ğŸ• Kira - Pastor AlemÃ¡n</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Veterinario</label>
                    <select id="cita-veterinario">
                        <option value="Dra. MartÃ­nez">ğŸ‘©â€âš•ï¸ Dra. MartÃ­nez (CirugÃ­a)</option>
                        <option value="Dr. GarcÃ­a">ğŸ‘¨â€âš•ï¸ Dr. GarcÃ­a (DermatologÃ­a)</option>
                        <option value="Dra. LÃ³pez">ğŸ‘©â€âš•ï¸ Dra. LÃ³pez (OdontologÃ­a)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Tipo de consulta</label>
                    <select id="cita-tipo">
                        <option value="RevisiÃ³n">ğŸ©º RevisiÃ³n general</option>
                        <option value="VacunaciÃ³n">ğŸ’‰ VacunaciÃ³n</option>
                        <option value="Urgencia">ğŸš‘ Urgencia</option>
                        <option value="CirugÃ­a">ğŸ”ª CirugÃ­a</option>
                        <option value="OdontologÃ­a">ğŸ¦· Limpieza dental</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Fecha y hora</label>
                    <input type="text" id="cita-fecha" placeholder="Selecciona fecha y hora">
                </div>

                <div class="form-group">
                    <label>Motivo de la consulta</label>
                    <textarea id="cita-motivo" rows="2" placeholder="Describe el motivo..."></textarea>
                </div>

                <!-- FilePond - Subir foto/informe (opcional) -->
                <div class="form-group">
                    <label>ğŸ“ Adjuntar documento (opcional)</label>
                    <input type="file" id="filepond-upload" name="filepond" multiple>
                </div>

                <button onclick="crearCita()">ğŸ“… Programar cita</button>
            </div>
        </div>

        <!-- Tabulator - Listado de pacientes -->
        <h2>ğŸ• Pacientes registrados</h2>
        <div id="tabla-pacientes"></div>

        <!-- Historial mÃ©dico + adjuntos -->
        <h2>ğŸ“– Historial mÃ©dico</h2>
        <div class="grid-2">
            <!-- Listado de historial -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="margin: 0;">ğŸ“‹ Historial de Max</h3>
                    <span class="veterinarios-badge vet-1">Dra. MartÃ­nez</span>
                </div>
                <div id="historial-container">
                    <div class="historial-entry">
                        <div class="historial-fecha">ğŸ“… 10/02/2026 - 11:30</div>
                        <div class="historial-titulo">ğŸ©º RevisiÃ³n anual</div>
                        <p>Todo correcto, vacunaciÃ³n al dÃ­a. Se recomienda dieta para control de peso.</p>
                        <div style="margin-top: 10px;">
                            <span style="background: #e0e0e0; padding: 4px 10px; border-radius: 15px; font-size: 0.8rem;">ğŸ“ analisis_sangre.pdf</span>
                            <span style="background: #e0e0e0; padding: 4px 10px; border-radius: 15px; font-size: 0.8rem;">ğŸ–¼ï¸ radiografia.jpg</span>
                        </div>
                    </div>
                    <div class="historial-entry">
                        <div class="historial-fecha">ğŸ“… 15/01/2026 - 10:15</div>
                        <div class="historial-titulo">ğŸ’‰ VacunaciÃ³n</div>
                        <p>Vacuna polivalente aplicada. PrÃ³xima dosis en 3 meses.</p>
                        <div style="margin-top: 10px;">
                            <span style="background: #e0e0e0; padding: 4px 10px; border-radius: 15px; font-size: 0.8rem;">ğŸ“„ certificado_vacuna.pdf</span>
                        </div>
                    </div>
                    <div class="historial-entry">
                        <div class="historial-fecha">ğŸ“… 20/12/2025 - 16:45</div>
                        <div class="historial-titulo">ğŸš‘ Urgencia - Otitis</div>
                        <p>InfecciÃ³n de oÃ­do. Tratamiento con antibiÃ³tico durante 7 dÃ­as.</p>
                        <div style="margin-top: 10px;">
                            <span style="background: #e0e0e0; padding: 4px 10px; border-radius: 15px; font-size: 0.8rem;">ğŸ“‹ receta.pdf</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Adjuntos recientes -->
            <div class="card">
                <h3>ğŸ“ Ãšltimos adjuntos</h3>
                <div style="margin-top: 15px;">
                    <div style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <span style="font-size: 1.5rem; margin-right: 15px;">ğŸ–¼ï¸</span>
                        <div style="flex: 1;">
                            <div style="font-weight: bold;">RadiografÃ­a - Max</div>
                            <div style="font-size: 0.8rem; color: #666;">15/02/2026 â€¢ 2.3 MB</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px;">
                        <span style="font-size: 1.5rem; margin-right: 15px;">ğŸ“„</span>
                        <div style="flex: 1;">
                            <div style="font-weight: bold;">AnÃ¡lisis sangre - Luna</div>
                            <div style="font-size: 0.8rem; color: #666;">14/02/2026 â€¢ 1.1 MB</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 10px;">
                        <span style="font-size: 1.5rem; margin-right: 15px;">ğŸ“‹</span>
                        <div style="flex: 1;">
                            <div style="font-weight: bold;">Informe cirugÃ­a - Toby</div>
                            <div style="font-size: 0.8rem; color: #666;">10/02/2026 â€¢ 0.8 MB</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>